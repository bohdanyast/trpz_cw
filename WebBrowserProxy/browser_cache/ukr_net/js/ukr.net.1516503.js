"use strict";(function(){var x=function(a,n){return function(){return a&&(n=a(a=0)),n}};var P=function(a,n){return function(){return n||a((n={exports:{}}).exports,n),n.exports}};var v=x(function(){});var f=x(function(){});var g=x(function(){});var m=x(function(){});var y=x(function(){});var w=x(function(){});var b=x(function(){});var _=x(function(){});var G=P(function(E){"use strict";v();f();g();m();y();w();b();_();Object.defineProperty(E,"__esModule",{value:!0});E.AdditionalWidget=E.ScriptUrlType=void 0;var q;(function(a){a.es5="es5",a.es6="es6"})(q||(E.ScriptUrlType=q={}));var $=function(){function a(n,t){var e=this;if(this.additionalWidgets=n,this.urlType=t,this.additionalWidgets.length)for(var i=function(s){setTimeout(function(){e.init(e.additionalWidgets[s])},0)},o=0;o<this.additionalWidgets.length;o++)i(o)}return a.prototype.init=function(n){var t=this,e=n.widgetDivId?this.createWidgetDiv(n):null,i=this.createWidgetScript(n.urls[this.urlType]),o=n.insertTo||"before";this.waitForElement(n.searchSelector).then(function(s){var r;n.widgetDivId&&t.insertWidgetBlock(s,e,o),(r=window.performance)===null||r===void 0||r.mark("main_script_start_load",{detail:{_mgwidget:n.id}}),t.insertWidgetScript(i)})},a.prototype.createWidgetDiv=function(n){var t=document.createElement("div"),e=document.createElement("div"),i=n.widgetDivId;return t.classList.add("".concat(i,"-additional")),e.id=i,n.dataAttributes&&n.dataAttributes.forEach(function(o){e.dataset[o.name]=o.value}),t.appendChild(e),t},a.prototype.createWidgetScript=function(n){var t=document.createElement("script");return t.src=n,t.async=!0,t.crossOrigin="anonymous",t},a.prototype.insertWidgetBlock=function(n,t,e){switch(e){case"into":n.appendChild(t);break;case"before":var i=n.parentElement;i.insertBefore(t,n);break;case"after":n.insertAdjacentElement("afterend",t);break}},a.prototype.insertWidgetScript=function(n){document.head?document.head.appendChild(n):document.body.appendChild(n)},a.prototype.waitForElement=function(n){return new Promise(function(t){if(document.querySelector(n))return t(document.querySelector(n));var e=new MutationObserver(function(){document.querySelector(n)&&(t(document.querySelector(n)),e.disconnect())});e.observe(document,{childList:!0,subtree:!0})})},a}();E.AdditionalWidget=$});var z=P(function(U){"use strict";v();f();g();m();y();w();b();_();Object.defineProperty(U,"__esModule",{value:!0});U.AppUtilsBlock=void 0;var Y=function(){function a(n){this.isMobileResult=null,this.agent=navigator.userAgent||navigator.vendor||window.opera||"",this.controller=n||null}return a.prototype.isMobile=function(){if(this.isMobileResult===null){var n=!1;(function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(n=!0)})(this.agent),this.isMobileResult=n}return this.isMobileResult},a.prototype.isTablet=function(){return/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(this.agent.toLowerCase())},a.prototype.isIosFBWebview=function(){var n=this.agent.toLowerCase();return n.indexOf("apple")>-1&&n.indexOf("iphone")>-1&&n.indexOf("webkit")>-1&&(n.indexOf("fban")>-1||n.indexOf("fbav")>-1)&&n.indexOf("safari")===-1&&n.indexOf("firefox")===-1&&n.indexOf("chrome")===-1},a.prototype.isFBAndroid=function(){return(this.agent.indexOf("FBAN")>-1||this.agent.indexOf("FBAV")>-1)&&this.agent.indexOf("Android")>-1},a.prototype.isChromeWebView=function(){var n=["WebView","Android.*(;\\s+wv|Version/\\d.\\d\\s+Chrome/\\d+(\\.0){3})","Linux; U; Android"],t=new RegExp("("+n.join("|")+")","ig");return!!this.agent.match(t)},a.prototype.isObject=function(n){return n!==null&&n.constructor===Object},a.prototype.isSupportES6=function(){try{return new Function("async (x = 0) => x; try {const x=window?.x;} catch {};"),!0}catch(n){return!1}},a.prototype.generateHash=function(){return Date.now().toString(36)+Math.random().toString(36).substring(2)},a.prototype.getSingleJsController=function(n){var t,e,i;return this.controller||((i=(e=((t=window._mgc)===null||t===void 0?void 0:t.controllers)||[])===null||e===void 0?void 0:e.filter(function(o){return o.siteId===n})[0])===null||i===void 0?void 0:i.controller)},a.prototype.isLoadWithAbTest=function(n){var t=Number(n),e=Math.random(),i=(100-t)/2/100;return e>i&&e<1-i},a.prototype.isAdblockDetected=function(){if(!window._mgAdbDetected){var n=["banner_ad","sponsored_ad"],t=document.body||document.documentElement,e=function(s){var r=document.createElement("div");return r.className=s,r.style.setProperty("display","block","important"),r.style.setProperty("padding","1px","important"),r.style.visibility="hidden",r.style.position="absolute",r.innerHTML=".",t.appendChild(r),r},i=function(s){return!s.offsetHeight},o=function(s){for(var r=null,c=0;c<s.length;c++){r=e(s[c]);var l=i(r);if(t.removeChild(r),l)return!0}return!1};window._mgAdbDetected=o(n)}return window._mgAdbDetected},a.prototype.getQueryParameterByName=function(n){n=n.replace(/[\[\]]/g,"\\$&");var t=new RegExp("[?&]"+n+"(=([^&#]*)|&|#|$)"),e=t.exec(location.href);return e?e[2]?decodeURIComponent(e[2].replace(/\+/g," ")):"":null},a}();U.AppUtilsBlock=Y});var N=P(function(B){"use strict";v();f();g();m();y();w();b();_();var K=B&&B.__extends||function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();Object.defineProperty(B,"__esModule",{value:!0});B.ReadMoreButton=void 0;var Q=z(),F;(function(a){a.load="load",a.impression="impression",a.click="click"})(F||(F={}));var Z=function(a){K(n,a);function n(t){var e=a.call(this)||this;return e.name="ReadMoreButton",e.options=t,e.button=null,e.widgetData=null,Array.isArray(e.options.excludeCountries)&&e.options.excludeCountries.length?e.checkFilters():e.init(),e}return n.prototype.checkFilters=function(){var t=this;typeof fetch=="function"&&typeof this.options.singleJsUrl!="undefined"&&fetch(this.options.singleJsUrl,{method:"HEAD",cache:"force-cache"}).then(function(e){var i,o,s=(o=(i=e.headers)===null||i===void 0?void 0:i.get("X-Cntry"))===null||o===void 0?void 0:o.toLowerCase();s?t.options.excludeCountries.some(function(r){return r.toLowerCase()===s})?console.log("".concat(t.name,": the block didn't pass the filtering conditions.")):t.init():console.log("".concat(t.name,": X-Cntry didn't found."))}).catch(function(e){console.error("".concat(t.name,": fetch error "),e)})},n.prototype.init=function(){var t;!((t=this.options)===null||t===void 0)&&t.abTest?this.isLoadWithAbTest(this.options.abTest)&&(window["_mgRMB"+this.options.siteId]=!0,this.load()):this.load()},n.prototype.load=function(){typeof window.rmbOpts=="undefined"&&(window.rmbOpts=this.options,this.addReadMoreButton(),this.detectReadMoreButton())},n.prototype.addReadMoreButton=function(){var t=document.getElementsByTagName("head")[0],e=document.createElement("script"),i="//".concat(this.options.cdnDomain,"/js/read-more/btn.js");e.async=!0,e.src=i,e.setAttribute("fetchpriority","high"),t.insertAdjacentElement("afterbegin",e),this.sendEvent(F.load)},n.prototype.detectReadMoreButton=function(){var t=this,e;e=setInterval(function(){t.button=document.querySelector("button.widget-btn"),t.button&&(clearInterval(e),t.startEvents())},100)},n.prototype.startEvents=function(){var t=this;if(this.button.addEventListener("click",function(){t.sendEvent(F.click),typeof t.options.widgetId!="undefined"&&t.insertWidget()}),IntersectionObserver){var e=new IntersectionObserver(function(i){i.forEach(function(o){o.intersectionRatio>=.9&&(e.unobserve(o.target),t.sendEvent(F.impression))})},{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]});e.observe(this.button)}},n.prototype.sendEvent=function(t){var e=encodeURIComponent(document.location.href),i="\n      https://".concat(this.options.countersDomain,"/rmb?site_id=").concat(this.options.siteId,"&page_url=").concat(e,"&event=").concat(t);this.widgetData=this.widgetData||this.getWidgetData(),this.widgetData&&(i+="&widget_id=".concat(this.widgetData.id,"&distance=").concat(this.widgetData.distance));var o=document.createElement("IMG");o.referrerPolicy="strict-origin-when-cross-origin",o.src=i},n.prototype.getWidgetData=function(){var t=this;if(!this.button)return null;var e=[].slice.call(document.querySelectorAll('[data-type="_mgwidget"], [id^="M'.concat(this.options.siteId,'ScriptRootC"]'))).filter(function(i){return!!(t.button.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_FOLLOWING)}).map(function(i){return{id:i.dataset.widgetId||i.id.match(/C(\d+)/)[1],distance:i.getBoundingClientRect().top-t.button.getBoundingClientRect().bottom}});return e.length?e.reduce(function(i,o){return o.distance<i.distance?o:i},e[0]):null},n.prototype.insertWidget=function(){var t=this.getSingleJsController(this.options.siteId),e=document.createElement("div");e.dataset.type="_mgwidget",e.dataset.widgetId=String(this.options.widgetId),e.dataset.rmb="true",t&&(document.body.appendChild(e),t.load())},n}(Q.AppUtilsBlock);B.ReadMoreButton=Z});var J=P(function(R){"use strict";v();f();g();m();y();w();b();_();Object.defineProperty(R,"__esModule",{value:!0});R.PerformanceTracker=void 0;var tt=function(){function a(n){var t=this;if(window.PerformanceObserver){this.trackerDomain=n;var e=new PerformanceObserver(function(i,o){i.getEntries().forEach(function(s){var r,c;!((r=s.detail)===null||r===void 0)&&r._mgwidget&&t.sendMetric(parseInt((c=s.detail)===null||c===void 0?void 0:c._mgwidget),s.name,s.startTime)})});e.observe({entryTypes:["mark"]})}}return a.prototype.sendMetric=function(n,t,e){var i="https://"+this.trackerDomain+"/widget-performance?",o=[];o.push("widget="+n),o.push("metric="+t),o.push("time="+e);try{var s=navigator.connection||navigator.mozConnection||navigator.webkitConnection;typeof s.effectiveType!="undefined"&&o.push("contype="+s.effectiveType)}catch(r){}if(i+=o.join("&"),typeof navigator.sendBeacon=="function")try{navigator.sendBeacon(i)}catch(r){this.pixelFallback(i)}else this.pixelFallback(i)},a.prototype.pixelFallback=function(n){var t=document.createElement("IMG");t.src=n},a}();R.PerformanceTracker=tt});var V=P(function(S){"use strict";v();f();g();m();y();w();b();_();var et=S&&S.__extends||function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),T=S&&S.__assign||function(){return T=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])}return a},T.apply(this,arguments)};Object.defineProperty(S,"__esModule",{value:!0});S.BackButtonBlock=S.ClassName=void 0;var H=G(),it=z(),d;(function(a){a.startedPage="mg-started-page",a.additionalPage="mg-additional-page",a.container="mg-additional-container",a.header="mg-additional-header",a.headerAdded="mg-header-added",a.popup="mg-additional-popup",a.popupInner="mg-additional-popup-inner",a.popupText="mg-additional-popup-text",a.popupTriangle="mg-additional-popup-triangle",a.popupCloseBtn="mg-additional-popup-close-btn",a.popupAdded="mg-popup-added",a.popupShowed="mg-popup-showed",a.popupClosed="mg-popup-closed",a.crossButtonContainer="mg-additional-cross-button",a.crossButton="mg-cross-button"})(d||(S.ClassName=d={}));var nt=function(a){et(n,a);function n(t,e){var i,o,s,r=a.call(this,e)||this;if(r.startedPage="_mgStartedPage",r.additionalPage="_mgAdditionalPage",r.storageStartUrl="_mgStartUrl",r.storagePopupCloseTime="_mgPopupCloseTime",r.storagePagesList="_mgStartPagesList",r.servicerFiltersData="_mgServicerFiltersData",r.name="BackButtonBlock",r.options=t,typeof window[r.servicerFiltersData]=="undefined"){window[r.servicerFiltersData]={},r.widgetId=Number(r.options.widget_id),r.widgetContainerSelector="M".concat(r.options.siteId,"ScriptRootC").concat(r.widgetId,"-additional"),r.hasFilters=!!(!((o=(i=r.options)===null||i===void 0?void 0:i.filters)===null||o===void 0)&&o.length),r.isAggressiveMode=(s=r.options)===null||s===void 0?void 0:s.aggressive_mode,r.initialEvent=typeof onpointerdown=="undefined"?"click":"pointerdown",r.pointerHandler=r.pointerHandler.bind(r);try{typeof sessionStorage!="undefined"&&(r.hasFilters?r.checkFilters():r.start())}catch(c){console.log("".concat(r.name,": sessionStorage not available."),c)}}return r}return n.prototype.checkGeoFilters=function(){var t=this,e,i,o,s=(o=(i=(e=this.options)===null||e===void 0?void 0:e.filters)===null||i===void 0?void 0:i.filter(function(c){return c.type==="exclude_countries"})[0])===null||o===void 0?void 0:o.value,r=this.options.singleJsUrl||(this.isSupportES6()?this.options.widgetPathES6:this.options.widgetPathES5);return new Promise(function(c){s&&s.length?typeof fetch=="function"&&typeof r=="string"&&fetch(r,{method:"HEAD",cache:"force-cache"}).then(function(l){var p,u,h=(u=(p=l.headers)===null||p===void 0?void 0:p.get("X-Cntry"))===null||u===void 0?void 0:u.toLowerCase();h?s.some(function(k){return k.toLowerCase()===h})?console.log("".concat(t.name,": the block didn't pass GEO filtering conditions.")):c():console.log("".concat(t.name,": header X-Cntry didn't found."))}).catch(function(l){console.log("".concat(t.name,": fetch error."),l)}):c()})},n.prototype.checkDeviceFilters=function(){var t=this,e,i,o,s,r=(o=(i=(e=this.options)===null||e===void 0?void 0:e.filters)===null||i===void 0?void 0:i.filter(function(c){return c.type==="device"})[0])===null||o===void 0?void 0:o.value;return new Promise(function(c){r&&r.length?s=setInterval(function(){if(typeof window[t.servicerFiltersData].device!="undefined"){clearInterval(s);var l=window[t.servicerFiltersData].device.toLowerCase();r.some(function(p){return p.toLowerCase()===l})?c():console.log("".concat(t.name,": the block didn't pass Device filtering conditions."))}},250):c()})},n.prototype.checkTrafficSourceFilters=function(){var t=this,e,i,o,s,r=(o=(i=(e=this.options)===null||e===void 0?void 0:e.filters)===null||i===void 0?void 0:i.filter(function(c){return c.type==="traffic_source"})[0])===null||o===void 0?void 0:o.value;return new Promise(function(c){r&&r.length?s=setInterval(function(){if(typeof window[t.servicerFiltersData].trafficSource!="undefined"){clearInterval(s);var l=window[t.servicerFiltersData].trafficSource.toLowerCase();r.some(function(p){return p.toLowerCase().indexOf(l)!==-1})?c():console.log("".concat(t.name,": the block didn't pass Traffic Source filtering conditions."))}},250):c()})},n.prototype.checkTrafficTypeFilters=function(){var t=this,e,i,o,s,r=(o=(i=(e=this.options)===null||e===void 0?void 0:e.filters)===null||i===void 0?void 0:i.filter(function(c){return c.type==="traffic_type"})[0])===null||o===void 0?void 0:o.value;return new Promise(function(c){r&&r.length?s=setInterval(function(){if(typeof window[t.servicerFiltersData].trafficType!="undefined"){clearInterval(s);var l=window[t.servicerFiltersData].trafficType.toLowerCase();r.some(function(p){return p.toLowerCase()===l})?c():console.log("".concat(t.name,": the block didn't pass Traffic Type filtering conditions."))}},250):c()})},n.prototype.checkFilters=function(){var t=this;Promise.all([this.checkGeoFilters(),this.checkDeviceFilters(),this.checkTrafficSourceFilters(),this.checkTrafficTypeFilters()]).then(function(){t.start()})},n.prototype.start=function(){var t=this,e,i,o,s,r=420*1e3,c=new Date().getTime(),l=null;if(!((i=(e=window==null?void 0:window.performance)===null||e===void 0?void 0:e.getEntriesByType("navigation"))===null||i===void 0)&&i.length?l=window.performance.getEntriesByType("navigation")[0]:!((o=window==null?void 0:window.performance)===null||o===void 0)&&o.timing&&(l=window.performance.timing),l!=null&&l.loadEventEnd&&l.loadEventEnd>0){this.startEvents();return}s=setInterval(function(){if(new Date().getTime()-c>=r){clearInterval(s),console.log("".concat(t.name,": didn't load, too long site page loading process."));return}l!=null&&l.loadEventEnd&&l.loadEventEnd>0&&(clearInterval(s),t.startEvents())},150)},n.prototype.startEvents=function(){this.siteBody=document.body||document.documentElement;var t=history.state,e=this.getStartedUrl(),i=document.location.href,o=this.isAggressiveMode?this.hasStoragePage(i):e===i;o&&this.isObject(t)&&t.hasOwnProperty(this.additionalPage)&&typeof window[this.additionalPage]=="undefined"&&(window[this.additionalPage]=!0,this.buildAdditionalPage(),this.showAdditionalPage()),this.siteBody.addEventListener(this.initialEvent,this.pointerHandler),window.addEventListener("popstate",this.popstateHandler.bind(this))},n.prototype.pointerHandler=function(){this.siteBody.removeEventListener(this.initialEvent,this.pointerHandler);var t=document.location.href;if(this.isAggressiveMode){var e=this.hasStoragePage(t);e||(this.setStoragePage(t),this.pushHistoryState())}else{var i=this.getStartedUrl();i||(this.setStartedUrl(t),this.pushHistoryState())}},n.prototype.popstateHandler=function(t){var e,i,o=((i=(e=t.target)===null||e===void 0?void 0:e.history)===null||i===void 0?void 0:i.state)||t.state,s=this.getStartedUrl(),r=document.location.href,c=o===null||o===""||this.isObject(o)&&!o.hasOwnProperty(this.startedPage)&&!o.hasOwnProperty("flowcards"),l=this.isAggressiveMode?this.hasStoragePage(r):s===r;if(l&&c&&typeof window[this.additionalPage]=="undefined"){window[this.additionalPage]=!0,this.replaceHistoryState(),this.buildAdditionalPage(),this.showAdditionalPage();return}this.isObject(o)&&(!l&&!o.hasOwnProperty(this.additionalPage)&&!o.hasOwnProperty(this.startedPage)&&this.showRegularPage(),o.hasOwnProperty(this.startedPage)&&this.showStartedPage(),o.hasOwnProperty(this.additionalPage)&&this.showAdditionalPage())},n.prototype.pushHistoryState=function(){var t,e=history.state,i=(t={},t[this.startedPage]=!0,t),o=document.location;if(e===null||e==="")(this.isIosFBWebview()||this.isFBAndroid())&&!o.hash?history.pushState(i,"",o.href+"#"+this.generateHash()):history.pushState(i,"","");else if(this.isObject(e)){var s=T(T({},e),i);(this.isIosFBWebview()||this.isFBAndroid())&&!o.hash?history.pushState(s,"",o.href+"#"+this.generateHash()):history.pushState(s,"","")}else console.log("".concat(this.name,": client also uses history.state and its not an object, so module will not work."))},n.prototype.replaceHistoryState=function(){var t,e=history.state,i=(t={},t[this.additionalPage]=!0,t);e===null||e===""?history.replaceState(i,"",""):this.isObject(e)?history.replaceState(T(T({},e),i),"",""):console.log("".concat(this.name,": client also uses history.state and its not an object, so module will not work."))},n.prototype.buildAdditionalPage=function(){var t,e,i,o,s,r=(e=(t=this.options)===null||t===void 0?void 0:t.display)===null||e===void 0?void 0:e.some(function(u){return u.type==="header"}),c=(o=(i=this.options)===null||i===void 0?void 0:i.display)===null||o===void 0?void 0:o.some(function(u){return u.type==="banner"}),l=((s=this.options)===null||s===void 0?void 0:s.cross_button)||!1,p=document.createElement("div");p.classList.add(d.container),p.style.display="none",this.siteBody.appendChild(p),this.styles="\n      body.".concat(d.additionalPage," > *:not(.").concat(d.container,"),\n      html.").concat(d.additionalPage," > *:not(.").concat(d.container,") {\n        display: none !important;\n      }\n      body.").concat(d.additionalPage," .").concat(d.container,",\n      html.").concat(d.additionalPage," .").concat(d.container," {\n        display: block !important;\n      }\n      body.").concat(d.startedPage," .").concat(d.container,",\n      html.").concat(d.startedPage," .").concat(d.container," {\n        display: none !important;\n      }\n      body.").concat(d.additionalPage,",\n      html.").concat(d.additionalPage," {\n        padding-top: 0 !important;\n        margin-top: 0 !important;\n        transform: none !important;\n      }\n      .").concat(d.container," {display: none;margin: 0 auto;box-sizing: border-box;\n        padding: 15px 10px;width: 100%;max-width: 1100px;background: #fff;}\n    "),r&&this.insertHeader(p),l&&this.insertCrossButton(p),c&&this.insertPopup(p),(l||c)&&this.changeSize(p),this.addingStyles(p),this.addingWidget(p)},n.prototype.insertHeader=function(t){var e,i,o=((i=(e=this.options.display.filter(function(l){return l.type==="header"})[0])===null||e===void 0?void 0:e.options)===null||i===void 0?void 0:i.selector)||"header",s=document.querySelector(o);if(s){var r=getComputedStyle(s),c=s.cloneNode(!0);c.classList.add(d.header),t.classList.add(d.headerAdded),t.appendChild(c),this.styles=this.styles+".".concat(d.container,".").concat(d.headerAdded," {padding: 0 !important;}\n        .").concat(d.header," {margin-bottom: 10px !important;z-index: 9999999 !important;}\n        .").concat(d.container,".").concat(d.headerAdded," div[class=").concat(this.widgetContainerSelector,"] {\n        padding: 0 10px;box-sizing: border-box;}"),!this.isMobile()&&!this.isTablet()&&(t.style.maxWidth=r.width),r.position==="fixed"&&(c.style.maxWidth="100%",c.style.top="0px",c.style.zIndex="9999999",t.style.setProperty("padding-top",r.height,"important"))}},n.prototype.insertCrossButton=function(t){var e=this,i=27,o=document.createElement("div");o.classList.add(d.crossButtonContainer);var s=document.createElement("div");s.classList.add(d.crossButton),s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" \n      xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" \n      width="'.concat(i,'px" height="').concat(i,'px" viewBox="0 0 43 40" enable-background="new 0 0 43 40" \n      xml:space="preserve"><path fill="#4C4C4C" d="M21.5,2c-9.941,0-18,8.06-18,18.001c0,9.941,8.059,18,\n      18,18s18-8.059,18-18C39.5,10.059,31.441,2,21.5,2z"></path><path fill="#FFFFFF" d="M30.076,24.07c0.564,\n      0.564,0.564,1.482,0,2.047l-2.459,2.459c-0.564,0.564-1.48,0.564-2.047,0l-4.07-4.07  \n      l-4.07,4.07c-0.566,0.564-1.482,0.564-2.051,0l-2.455-2.459c-0.566-0.564-0.566-1.482,\n      0-2.047l4.07-4.07l-4.07-4.071  c-0.566-0.565-0.566-1.482,0-2.049l2.455-2.455c0.568-0.566,\n      1.484-0.566,2.051,0l4.07,4.07l4.07-4.07  c0.566-0.566,1.482-0.566,2.047,0l2.459,2.455c0.564,\n      0.566,0.564,1.483,0,2.049L26.006,20L30.076,24.07z"></path></svg>'),this.styles=this.styles+".".concat(d.crossButtonContainer," {display: block !important;\n      margin: 10px auto !important;} .").concat(d.crossButton," {display: block !important;\n      width: ").concat(i,"px !important;height: ").concat(i,"px !important;max-width: ").concat(i,"px !important;\n      max-height: ").concat(i,"px !important;cursor: pointer;border-radius: 50%;overflow: hidden;\n      margin-left: auto;} .").concat(d.crossButton," svg {max-width: ").concat(i,"px !important; \n      max-height: ").concat(i,"px !important;}"),t.appendChild(o),o.appendChild(s),s.addEventListener("click",function(){history.back(),e.showStartedPage()})},n.prototype.insertPopup=function(t){var e=this,i,o=localStorage.getItem(this.storagePopupCloseTime),s=24*60*60*1e3,r=o&&new Date().getTime()-Number(o)>=s;if(!o||r){var c=(i=this.options.display.filter(function(j){return j.type==="banner"})[0])===null||i===void 0?void 0:i.options,l=(c==null?void 0:c.bg_color)||"#0279f5",p=(c==null?void 0:c.text_color)||"#ffffff",u=(c==null?void 0:c.text)||this.getTranslation("[INFORMER_BACK_BUTTON_BANNER_TEXT]"),h=document.createElement("div");h.classList.add(d.popup),t.classList.add(d.popupAdded),h.innerHTML='<div class="'.concat(d.popupInner,'">\n        <div class="').concat(d.popupText,'">').concat(u,'</div><div class="').concat(d.popupTriangle,'"></div>\n        <div class="').concat(d.popupCloseBtn,'"><svg width="11" height="11" viewBox="0 0 11 11">\n        <path fill="').concat(p,'" fill-rule="evenodd" d="M10.34.038L5.5 4.878.66.038.038.66l4.84 \n        4.84-4.84 4.84.622.622 4.84-4.84 4.84 4.84.622-.622-4.84-4.84 4.84-4.84z"></path></svg></div></div>'),t.appendChild(h),this.styles=this.styles+".".concat(d.popup," {display: block;margin: 0 auto;width: 100%;\n        height: 50px;overflow: hidden;position: relative;z-index: 999999;}\n        .").concat(d.popupInner," {position: relative;display: flex;align-items: center;\n        justify-content: space-between;margin: 0 auto;width: 100%;height: 40px;text-align: center;\n        transition: all 0.7s ease;opacity: 0;transform: translateY(-150px);background: ").concat(l,";}\n        .").concat(d.popup,".").concat(d.popupShowed," .").concat(d.popupInner," {transform: translateY(0px);\n        opacity: 1;}.").concat(d.popup,".").concat(d.popupClosed," .").concat(d.popupInner," {\n        display: none;}.").concat(d.popup,".").concat(d.popupClosed," {z-index: -1;}\n        .").concat(d.popupText," {box-sizing: border-box;padding: 10px;width: 100%;height: 100%;\n        display: flex;align-items: center;justify-content: center;font-family: Helvetica, Arial, sans-serif;\n        font-size: 16px;line-height: 1;font-weight: 400;color: ").concat(p,";}\n        .").concat(d.popupTriangle," {display: block;position: absolute;bottom: -10px;left: 50%;\n        transform: translateX(-50%);width: 0;height: 0;border-left: 12px solid transparent;\n        border-right: 12px solid transparent;border-top: 12px solid;color: ").concat(l,";}\n        .").concat(d.popupCloseBtn," {display: flex;align-items: center;justify-content: center;\n        width: 15px;height: 15px;margin-right: 10px;color: ").concat(p,";cursor: pointer;}\n        .").concat(d.container,".").concat(d.popupAdded," div[class=").concat(this.widgetContainerSelector,"] {\n        margin-top: -40px;}@media (max-width: 480px) {.").concat(d.popupText," {font-size: 13px;}}");var k=document.querySelector(".".concat(d.popupCloseBtn));k&&k.addEventListener("click",function(){h.classList.add(d.popupClosed),localStorage.setItem(e.storagePopupCloseTime,String(new Date().getTime()))})}},n.prototype.changeSize=function(t){var e=this,i=t.querySelector(".".concat(d.popup)),o=t.querySelector(".".concat(d.crossButtonContainer)),s,r=90*1e3,c=new Date().getTime();s=setInterval(function(){if(new Date().getTime()-c>=r){clearInterval(s),console.log("".concat(e.name,": additional Smart widget didn't load."));return}var l=t.querySelector("div[class=".concat(e.widgetContainerSelector,"]"));if(l&&l.children.length){var p=l.children[0],u=void 0,h;if(p.shadowRoot&&p.shadowRoot.children.length?u=p.shadowRoot.children:p.children.length&&(u=p.children),u!=null&&u.length&&[].slice.call(u).forEach(function(j){j.getElementsByClassName("mgbox")[0]&&(h=j.getElementsByClassName("mgbox")[0])}),h){clearInterval(s);var k=getComputedStyle(h).width;i&&(i.style.maxWidth=k,i.classList.add(d.popupShowed)),o&&(o.style.maxWidth=k),window.addEventListener("resize",function(){i&&(i.style.maxWidth=getComputedStyle(h).width),o&&(o.style.maxWidth=getComputedStyle(h).width)})}}},150)},n.prototype.addingStyles=function(t){var e=document.createElement("style");e.setAttribute("id","mgAdditionalStyles"),e.appendChild(document.createTextNode(this.styles)),t.appendChild(e)},n.prototype.addingWidget=function(t){var e=this;if(this.options.singleJsUrl){var i=this.getSingleJsController(this.options.siteId),o=document.createElement("div"),s=document.createElement("div");s.dataset.type="_mgwidget",s.dataset.widgetId=String(this.widgetId),s.dataset.typeStory="true",o.classList.add(this.widgetContainerSelector),o.appendChild(s),t.appendChild(o),i&&i.load()}else new H.AdditionalWidget([{id:this.widgetId,urls:{es5:this.options.widgetPathES5.split(".").map(function(r,c,l){return c===l.length-3?e.widgetId:r}).join("."),es6:this.options.widgetPathES6.split(".").map(function(r,c,l){return c===l.length-3?e.widgetId:r}).join(".")},widgetDivId:"M".concat(this.options.siteId,"ScriptRootC").concat(this.widgetId),searchSelector:".".concat(d.container),insertTo:"into",dataAttributes:[{name:"typeStory",value:"true"}]}],this.isSupportES6()?H.ScriptUrlType.es6:H.ScriptUrlType.es5)},n.prototype.showAdditionalPage=function(){this.siteBody.classList.remove(d.startedPage),this.siteBody.classList.add(d.additionalPage)},n.prototype.showStartedPage=function(){this.siteBody.classList.remove(d.additionalPage),this.siteBody.classList.add(d.startedPage)},n.prototype.showRegularPage=function(){this.siteBody.classList.remove(d.startedPage),this.siteBody.classList.remove(d.additionalPage)},n.prototype.getStartedUrl=function(){return sessionStorage.getItem(this.storageStartUrl)},n.prototype.setStartedUrl=function(t){sessionStorage.setItem(this.storageStartUrl,t)},n.prototype.hasStoragePage=function(t){var e=JSON.parse(sessionStorage.getItem(this.storagePagesList))||[];return e.some(function(i){return i===t})},n.prototype.setStoragePage=function(t){var e=JSON.parse(sessionStorage.getItem(this.storagePagesList))||[];e.push(t),sessionStorage.setItem(this.storagePagesList,JSON.stringify(e))},n.prototype.getTranslation=function(t){var e=this.options.translations;return t.search(/^\[\S*\]$/g)===0?e[t]?e[t]:"":t},n}(it.AppUtilsBlock);S.BackButtonBlock=nt});var ot=P(function(X){v();f();g();m();y();w();b();_();Object.defineProperty(X,"__esModule",{value:!0});var he=G(),ve=N(),fe=J(),ge=V();(function(){var a=i(),n=a?"https://jsc.mgid.com/u/k/ukr.net.1516503.es6.js":"https://jsc.mgid.com/u/k/ukr.net.1516503.es5.js";r(),l(n),s(),c();for(var t=["https://servicer.mgid.com"],e=0;e<t.length;e++)o(t[e]);function i(){try{return new Function("async (x = 0) => x; try {const x=window?.x;} catch {};"),!0}catch(p){return!1}}function o(p){var u=document.createElement("link");u.rel="preconnect",u.href=p,document.head?document.head.appendChild(u):document.body.appendChild(u)}function s(){var p=JSON.parse("[]")}function r(){if(0)var p}function c(){if(0)var p}function l(p){var u,h=document.createElement("script");h.async=!0,h.charset="utf-8",h.src=p,h.crossOrigin="anonymous",(u=window.performance)===null||u===void 0||u.mark("main_script_start_load",{detail:{_mgwidget:1516503}}),document.head?document.head.appendChild(h):document.body.appendChild(h)}})()});ot();})();
